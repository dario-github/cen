<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸“å±åæƒ…ç»ªç²‰ç¢æœº</title>
    <style>
        :root {
            /* å®šä¹‰ä¸»é¢˜è‰²ï¼Œå¯ä»¥æ ¹æ®å¡é€šå½¢è±¡çš„è‰²è°ƒè¿›è¡Œè°ƒæ•´ */
            --primary-color: #ff9a9e; /* æŸ”å’Œçš„ç²‰è‰² */
            --secondary-color: #fad0c4; /* æ›´æµ…çš„ç²‰è‰²æ¸å˜è‰² */
            --bg-color: #2c2c34; /* æ·±è‰²èƒŒæ™¯ï¼Œçªå‡ºå‰æ™¯ */
            --text-color: #fcecec; /* æŸ”å’Œçš„æµ…è‰²æ–‡å­— */
        }

        body {
            margin: 0;
            padding: 0;
            background: var(--bg-color);
            /* å¢åŠ ä¸€ä¸ªå¾®å¦™çš„æ¸å˜èƒŒæ™¯ï¼Œæ›´æ˜¾é«˜çº§ */
            background: linear-gradient(135deg, #2c2c34 0%, #3a3a45 100%);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* ä½¿ç”¨ min-height ç¡®ä¿å†…å®¹å¤šæ—¶èƒ½æ»šåŠ¨ */
            overflow-x: hidden;
            padding: 20px 0; /* å¢åŠ ä¸Šä¸‹å†…è¾¹è· */
            box-sizing: border-box;
        }

        .container {
            text-align: center;
            width: 85%;
            max-width: 400px;
            position: relative;
            z-index: 2;
            /* å¢åŠ ä¸€ä¸ªç£¨ç ‚ç»ç’ƒæ•ˆæœçš„èƒŒæ™¯æ¡†ï¼Œè®©å†…å®¹æ›´çªå‡º */
            background: rgba(255, 255, 255, 0.05);
            padding: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* å¡é€šå½¢è±¡æ ·å¼ */
        .cartoon-avatar {
            width: 120px; /* æ ¹æ®å®é™…å›¾ç‰‡å¤§å°è°ƒæ•´ */
            height: 120px;
            border-radius: 50%; /* åœ†å½¢å¤´åƒ */
            object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
            margin-bottom: 15px;
            border: 4px solid var(--primary-color); /* åŠ ä¸Šä¸»é¢˜è‰²è¾¹æ¡† */
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.5); /* åŠ ä¸ŠæŸ”å’Œçš„é˜´å½± */
            /* å¢åŠ ä¸€ä¸ªè½»å¾®çš„æµ®åŠ¨åŠ¨ç”» */
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        h1 {
            font-weight: 400;
            margin-bottom: 25px;
            color: var(--text-color);
            letter-spacing: 1px;
            font-size: 24px;
        }

        /* ä¸ªæ€§åŒ–æ ‡é¢˜ï¼ŒåŠ ä¸Šå¥¹çš„åå­— */
        .personalized-title {
            color: var(--primary-color);
            font-weight: 600;
        }

        textarea {
            width: 100%;
            height: 140px;
            /* è¾“å…¥æ¡†èƒŒæ™¯è‰²è°ƒæ•´ä¸ºæ›´é€šé€çš„æµ…è‰² */
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 15px;
            color: #fff;
            font-size: 16px;
            resize: none;
            box-sizing: border-box;
            outline: none;
            transition: all 0.3s;
        }

        textarea:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--primary-color); /* èšç„¦æ—¶è¾¹æ¡†å˜è‰² */
        }

        textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            margin-top: 30px;
            /* æŒ‰é’®æ¸å˜è‰²è°ƒæ•´ä¸ºæ›´æš–çš„è‰²è°ƒ */
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            border: none;
            padding: 15px 50px;
            color: #5a3f3f; /* æŒ‰é’®æ–‡å­—é¢œè‰² */
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.6);
            transition: transform 0.1s, box-shadow 0.3s;
            -webkit-tap-highlight-color: transparent;
        }

        .btn:active {
            transform: scale(0.95);
        }

        /* çˆ†ç‚¸ç¢ç‰‡æ ·å¼ï¼Œé¢œè‰²è°ƒæ•´ */
        .particle {
            position: absolute;
            /* ç²’å­é¢œè‰²ä¹Ÿæ”¹ä¸ºæš–è‰²è°ƒ */
            background: var(--primary-color);
            border-radius: 50%;
            pointer-events: none;
        }

        /* æ²»æ„ˆæ–‡å­— */
        .healing-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 22px;
            color: var(--primary-color);
            opacity: 0;
            width: 90%;
            text-align: center;
            pointer-events: none;
            transition: opacity 0.8s ease;
            line-height: 1.6;
        }
        
        /* é‡ç½®æŒ‰é’®æ ·å¼ä¼˜åŒ– */
        .reset-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .reset-btn:hover {
             background: var(--primary-color);
             color: #fff;
        }

        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body>

    <div class="container" id="inputZone">
        <img src="cartoon.png" alt="å¸­æ¶”çš„å¡é€šå½¢è±¡" class="cartoon-avatar">
        
        <h1><span class="personalized-title">å¸­æ¶”</span>çš„åæƒ…ç»ªç²‰ç¢æœº</h1>
        <textarea id="moodInput" placeholder="äº²çˆ±çš„ï¼Œæœ‰ä»€ä¹ˆä¸å¼€å¿ƒçš„äº‹æƒ…éƒ½å†™åœ¨è¿™é‡Œå§...&#10;å†™å®Œæˆ‘ä»¬ä¸€èµ·æŠŠå®ƒç²‰ç¢æ‰ï¼"></textarea>
        <button class="btn" onclick="crushMood()">ğŸ’¥ å½»åº•ç²‰ç¢ ğŸ’¥</button>
    </div>

    <div class="healing-text" id="healingZone">
        <span style="font-size: 28px;">âœ¨ å‘¼~ çƒ¦æ¼éƒ½é£èµ°å•¦ï¼</span><br><br>
        å¸­æ¶”æ˜¯æœ€æ£’çš„ï¼<br>
        <span style="font-size:16px; color: rgba(255,255,255,0.7);">ä¸è¦çš±çœ‰å•¦ï¼ŒæŠ±æŠ±~ â¤ï¸</span>
        <br>
        <button class="reset-btn" onclick="reset()">å†æ¥ä¸€æ¬¡</button>
    </div>

    <script>
        function crushMood() {
            const input = document.getElementById('moodInput');
            const container = document.getElementById('inputZone');
            const text = input.value.trim();

            if (!text) {
                input.placeholder = "å°è¿·ç³Šï¼Œè¦å…ˆå†™ä¸‹æ¥æ‰èƒ½ç²‰ç¢å“¦~";
                container.classList.add('shake');
                setTimeout(() => container.classList.remove('shake'), 500);
                return;
            }

            // 1. éœ‡åŠ¨åé¦ˆ
            if (navigator.vibrate) navigator.vibrate([50, 30, 50]); // æ›´æœ‰èŠ‚å¥çš„éœ‡åŠ¨
            
            // 2. ç”Ÿæˆçˆ†ç‚¸ç²’å­
            createExplosion();

            // 3. éšè—è¾“å…¥æ¡†ï¼Œæ˜¾ç¤ºåŠ¨ç”»
            container.style.transition = 'transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.6s'; // æ›´Qå¼¹çš„åŠ¨ç”»æ•ˆæœ
            container.style.transform = 'scale(0.8) translateY(-100px)'; // å‘ä¸Šé£å‡º
            container.style.opacity = '0';

            // 4. æ˜¾ç¤ºæ²»æ„ˆæ–‡å­—
            setTimeout(() => {
                container.style.display = 'none';
                const healing = document.getElementById('healingZone');
                healing.style.opacity = '1';
                healing.style.pointerEvents = 'auto'; // å…è®¸ç‚¹å‡»é‡ç½®æŒ‰é’®
            }, 600);
        }

        function createExplosion() {
            // ç²’å­é¢œè‰²è°ƒæ•´ä¸ºæš–è‰²ç³»
            const colors = ['#ff9a9e', '#fad0c4', '#ffecd2', '#fcb69f', '#ffffff'];
            const particleCount = 80; // å¢åŠ ç²’å­æ•°é‡

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // éšæœºä½ç½®å’Œå¤§å°
                // è®©ç²’å­ä»å®¹å™¨ä¸­å¿ƒå‘å‡º
                const containerRect = document.getElementById('inputZone').getBoundingClientRect();
                const x = containerRect.left + containerRect.width / 2;
                const y = containerRect.top + containerRect.height / 2;
                const size = Math.random() * 8 + 3;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                document.body.appendChild(particle);

                // éšæœºé£æº…æ–¹å‘ï¼Œæ‰©å¤§èŒƒå›´
                const destinationX = x + (Math.random() - 0.5) * 800;
                const destinationY = y + (Math.random() - 0.5) * 800;
                const rotation = Math.random() * 720;
                const duration = Math.random() * 1200 + 600;

                // æ‰§è¡ŒåŠ¨ç”»
                const animation = particle.animate([
                    { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                    { transform: `translate(${destinationX - x}px, ${destinationY - y}px) rotate(${rotation}deg)`, opacity: 0 }
                ], {
                    duration: duration,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)', // æ›´è‡ªç„¶çš„çˆ†ç‚¸æ›²çº¿
                    fill: 'forwards'
                });

                // åŠ¨ç”»ç»“æŸåæ¸…ç†DOM
                animation.onfinish = () => particle.remove();
            }
        }

        function reset() {
            const container = document.getElementById('inputZone');
            const healing = document.getElementById('healingZone');
            const input = document.getElementById('moodInput');

            healing.style.opacity = '0';
            healing.style.pointerEvents = 'none';
            
            setTimeout(() => {
                container.style.display = 'block';
                // å¼ºåˆ¶é‡ç»˜
                requestAnimationFrame(() => {
                    container.style.transform = 'scale(1) translateY(0)';
                    container.style.opacity = '1';
                    input.value = '';
                    // input.focus(); // æ‰‹æœºä¸Šè‡ªåŠ¨èšç„¦æœ‰æ—¶ä½“éªŒä¸å¥½ï¼Œå¯ä»¥å»æ‰
                });
            }, 300);
        }
    </script>
</body>
</html>

