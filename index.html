<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¸­æ¶”çš„ä¸“å±åæƒ…ç»ªç²‰ç¢æœº</title>
    <style>
        :root {
            --primary-color: #ff9a9e; /* æŸ”å’Œçš„ç²‰è‰² */
            --secondary-color: #fad0c4; /* æ›´æµ…çš„ç²‰è‰²æ¸å˜è‰² */
            --accent-color: #fbc2eb; /* ä¸€ç‚¹ç‚¹ç´«è‰²è°ƒ */
            --bg-color: #2c2c34;
            --text-color: #fcecec;
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #2c2c34 0%, #434353 100%);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px 0;
            box-sizing: border-box;
        }

        /* å…¥åœºåŠ¨ç”» */
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .container {
            text-align: center;
            width: 85%;
            max-width: 400px;
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.06);
            padding: 35px 25px;
            border-radius: 30px;
            box-shadow: 0 10px 40px -10px rgba(255, 154, 158, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .cartoon-avatar {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            border: 4px solid var(--primary-color);
            box-shadow: 0 6px 20px rgba(255, 154, 158, 0.4);
            animation: float 3.5s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
        }

        h1 {
            font-weight: 600;
            margin: 5px 0 15px 0;
            color: var(--text-color);
            font-size: 26px;
            text-shadow: 0 2px 10px rgba(255, 154, 158, 0.3);
        }

        .personalized-title { color: var(--primary-color); }

        /* åŠ¨æ€æ¬¢è¿è¯­å°æ ‡é¢˜ */
        .welcome-subtitle {
            font-size: 15px;
            color: var(--secondary-color);
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 1px;
        }

        textarea {
            width: 100%;
            height: 150px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.12);
            border-radius: 22px;
            padding: 18px;
            color: #fff;
            font-size: 16px;
            resize: none;
            box-sizing: border-box;
            outline: none;
            transition: all 0.3s;
            line-height: 1.5;
        }

        textarea:focus {
            background: rgba(255, 255, 255, 0.12);
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(251, 194, 235, 0.2);
        }

        textarea::placeholder { color: rgba(255, 255, 255, 0.45); }

        .btn {
            margin-top: 35px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border: none;
            padding: 16px 55px;
            color: #6a4f4f;
            font-size: 18px;
            font-weight: 700;
            border-radius: 60px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.5);
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            overflow: hidden;
        }

        .btn:active { transform: scale(0.96); box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4); }
        
        /* æŒ‰é’®å…‰æ•ˆ */
        .btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(rgba(255,255,255,0.2), rgba(255,255,255,0));
            transform: rotate(30deg);
            animation: shine 3s infinite;
        }
        @keyframes shine {
            to { transform: rotate(30deg) translate(100%, 100%); }
        }

        .particle {
            position: absolute;
            background: var(--primary-color);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10;
        }

        .healing-zone {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 380px;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 5;
        }

        .healing-content {
            /* å¢åŠ ä¸€ä¸ªåŠé€æ˜èƒŒæ™¯è®©æ–‡å­—æ›´æ¸…æ™° */
            background: rgba(44, 44, 52, 0.8);
            padding: 30px;
            border-radius: 25px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,154,158, 0.2);
        }

        /* æ²»æ„ˆæ–‡å­—çš„ä¸»ä½“ */
        .healing-main-text {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            line-height: 1.4;
        }

        /* æ²»æ„ˆæ–‡å­—çš„å°å°¾å·´ */
        .healing-sub-text {
            font-size: 15px;
            color: rgba(255,255,255,0.7);
            font-style: italic;
        }
        
        .reset-btn {
            background: transparent;
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            padding: 10px 30px;
            border-radius: 30px;
            margin-top: 30px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .reset-btn:hover {
             background: var(--secondary-color);
             color: var(--bg-color);
        }

        .shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body>

    <div class="container fade-in-up" id="inputZone">
        <img src="cartoon.png" alt="å¸­æ¶”çš„å¡é€šå½¢è±¡" class="cartoon-avatar">
        
        <h1><span class="personalized-title">å¸­æ¶”</span>çš„åæƒ…ç»ªç²‰ç¢æœº</h1>
        <div class="welcome-subtitle" id="welcomeText">æ­£åœ¨åŠ è½½è´´å¿ƒé—®å€™...</div>

        <textarea id="moodInput"></textarea>
        <button class="btn" onclick="crushMood()">ğŸ’¥ å¯åŠ¨è¶…çº§ç²‰ç¢ ğŸ’¥</button>
    </div>

    <div class="healing-zone" id="healingZone">
        <div class="healing-content">
            <div class="healing-main-text" id="healingMain"></div>
            <div class="healing-sub-text" id="healingSub"></div>
            <button class="reset-btn" onclick="reset()">å†æ¥ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        // --- æ•°æ®å‡†å¤‡åŒº ---

        // è¾“å…¥æ¡†çš„éšæœºå ä½ç¬¦
        const placeholders = [
            "äº²çˆ±çš„ï¼Œè°æƒ¹ä½ ä¸å¼€å¿ƒäº†ï¼Ÿå†™ä¸‹æ¥ï¼Œæˆ‘æ›¿ä½ æå®ƒï¼",
            "æœ‰ä»€ä¹ˆçƒ¦å¿ƒäº‹éƒ½å€’åœ¨è¿™é‡Œå§ï¼Œè¿™é‡Œæ˜¯ä½ çš„ä¸“å±æ ‘æ´...",
            "å°è„‘è¢‹é‡Œè£…äº†ä»€ä¹ˆä¸å¼€å¿ƒï¼Ÿå¿«ä¸¢è¿›æ¥ï¼Œæˆ‘ä»¬è¦è£…æ»¡å¿«ä¹ï¼",
            "å˜˜...æŠŠç§˜å¯†å’Œçƒ¦æ¼éƒ½å‘Šè¯‰æˆ‘ï¼Œç²‰ç¢å®Œå°±åªæœ‰å¤©çŸ¥åœ°çŸ¥ä½ çŸ¥æˆ‘çŸ¥å•¦ã€‚"
        ];

        // éšæœºæ²»æ„ˆ/é€—è¶£æ–‡æ¡ˆåº“ (æ ¸å¿ƒéƒ¨åˆ†!)
        // main: ä¸»è¦çš„åé¦ˆæ–‡å­—ï¼Œå­—ä½“è¾ƒå¤§
        // sub: ä¸‹æ–¹çš„å°å­—ï¼Œé€šå¸¸æ˜¯å®‰æ…°æˆ–è°ƒä¾ƒ
        const healingMessages = [
            { main: "âœ¨ Biu~ åˆšæ‰é‚£ä¸ªçƒ¦æ¼è¢«æˆ‘å‘å°„åˆ°å¤–å¤ªç©ºå•¦ï¼", sub: "ç°åœ¨å®ƒæ˜¯ä¸€åªå‚»å‚»çš„å¤–æ˜Ÿäººäº†ï¼Œåˆ«ç†å®ƒã€‚" },
            { main: "æŠ±æŠ±ä½ ã€‚ä½ å·²ç»åšå¾—è¶…çº§æ£’äº†ï¼ŒçœŸçš„ã€‚", sub: "ä¸è¦å¯¹è‡ªå·±å¤ªè‹›åˆ»ï¼Œå¶å°”å·æ‡’ä¹Ÿæ²¡å…³ç³»å“¦ã€‚" },
            { main: "æŠ¥å‘Šé•¿å®˜ï¼æ•Œå†›ï¼ˆåæƒ…ç»ªï¼‰å·²è¢«å…¨æ­¼ï¼ğŸ’¥", sub: "è¯·æ±‚å¥–åŠ±ä¸€ä¸ªäº²äº²~ ğŸ˜˜ (å‡‘ä¸è¦è„¸åœ°ä¼¸å¤´)" },
            { main: "çƒ¦æ¼å·²æ°¸ä¹…åˆ é™¤ã€‚ç°åœ¨ï¼Œæ·±å‘¼å¸...", sub: "ä¸–ç•Œä¾ç„¶å¾ˆçˆ±ä½ ï¼Œè€Œæˆ‘æœ€çˆ±ä½ â¤ï¸" },
            { main: "åˆ«æ€•ï¼Œæœ‰æˆ‘åœ¨å‘¢ã€‚å¤©å¤§çš„äº‹ï¼Œç¡ä¸€è§‰å°±å˜å°äº†ã€‚", sub: "ä»Šæ™šæœˆäº®ä¸è¥ä¸šï¼Œæˆ‘æ¥ç…§äº®ä½ ã€‚" },
            { main: "åå¿ƒæƒ…å·²è¢«ç²‰ç¢æˆæ¸£æ¸£ï¼Œå»ºè®®ç”¨ä¸€æ¯å¥¶èŒ¶å†²æœï¼ğŸ¥¤", sub: "å¦‚æœä¸€æ¯ä¸å¤Ÿï¼Œé‚£å°±ä¸¤æ¯ï¼" },
            { main: "å¸­æ¶”æ˜¯æœ€æ£’çš„ï¼åŒºåŒºå°çƒ¦æ¼ï¼Œæ ¹æœ¬ä¸æ˜¯ä½ çš„å¯¹æ‰‹ã€‚", sub: "ç»™ä½ æ»¡åˆ†ä¸æ€•ä½ éª„å‚²ï¼ğŸ’¯" },
            { main: "é›¨è¿‡å¤©æ™´å•¦ï¼å¿«çœ‹ï¼Œå½©è™¹åœ¨ç­‰ä½ æŠ¬å¤´å‘¢ âœ¨", sub: "æ‰€æœ‰çš„ä¸å¼€å¿ƒï¼Œéƒ½æ˜¯ä¸ºäº†è¿æ¥åé¢çš„å¤§å¥½è¿ï¼" },
            { main: "æ‘¸æ‘¸å¤´ï¼Œå‘¼å™œå‘¼å™œæ¯›ï¼Œå“ä¸ç€~", sub: "åœ¨æˆ‘è¿™é‡Œï¼Œä½ å¯ä»¥æ°¸è¿œå½“ä¸ªå°æœ‹å‹ã€‚" },
            { main: "ç³»ç»Ÿæ£€æµ‹åˆ°ä½ çš„å¯çˆ±å€¼æ­£åœ¨ä¸Šå‡...ğŸ“ˆ", sub: "ç³Ÿç³•ï¼Œè¦çˆ†è¡¨äº†ï¼å¿«ç¬‘ä¸€ä¸ªä¸­å’Œä¸€ä¸‹ï¼" },
            { main: "å·²ç»æ‹œæ‰˜é£æŠŠä¸å¼€å¿ƒéƒ½å¹èµ°å•¦~", sub: "å‰©ä¸‹çš„åªæœ‰æ¸©æŸ”çš„é£å’Œä½ ã€‚" },
            { main: "æ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œè®°å¾—ä½ èº«åä¸€ç›´æœ‰æˆ‘ã€‚", sub: "æˆ‘ä¼šå½“ä½ æœ€åšå®çš„åç›¾ (å’Œæœ€è½¯çš„æŠ±æ•)ã€‚" }
        ];

        // --- é¡µé¢åˆå§‹åŒ– ---

        function initPage() {
            // 1. è®¾ç½®éšæœºå ä½ç¬¦
            document.getElementById('moodInput').placeholder = placeholders[Math.floor(Math.random() * placeholders.length)];

            // 2. è®¾ç½®åŠ¨æ€æ¬¢è¿è¯­
            const hour = new Date().getHours();
            let welcomeMsg = "";
            if (hour >= 5 && hour < 12) {
                welcomeMsg = "æ—©å®‰ï¼Œå¸­æ¶”â˜€ï¸ æ–°çš„ä¸€å¤©ï¼ŒæŠŠæ˜¨å¤©çš„çƒ¦æ¼éƒ½ç¢æ‰å§~";
            } else if (hour >= 12 && hour < 18) {
                welcomeMsg = "ä¸‹åˆå¥½å‘€ï¼Œå¸­æ¶”â˜•ï¸ æœ‰ç‚¹ç´¯äº†å—ï¼Ÿæ¥è¿™é‡Œä¸¢æ‰åæƒ…ç»ªã€‚";
            } else if (hour >= 18 && hour < 23) {
                welcomeMsg = "æ™šä¸Šå¥½ï¼Œå¸­æ¶”ğŸŒ™ å¿™ç¢Œä¸€å¤©è¾›è‹¦å•¦ï¼Œæ¸…ç©ºçƒ¦æ¼å¥½æ¢¦å“¦ã€‚";
            } else {
                welcomeMsg = "å¤œæ·±äº†ï¼Œå¸­æ¶”â­ï¸ æ— è®ºå¤šæ™šï¼Œè¿™é‡Œéƒ½ä¸ºä½ äº®ç€ç¯ã€‚";
            }
            document.getElementById('welcomeText').innerText = welcomeMsg;
        }

        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œåˆå§‹åŒ–
        window.onload = initPage;


        // --- æ ¸å¿ƒåŠŸèƒ½åŒº ---

        function crushMood() {
            const input = document.getElementById('moodInput');
            const container = document.getElementById('inputZone');
            const text = input.value.trim();

            if (!text) {
                input.placeholder = "å°è¿·ç³Šï¼Œè¦å…ˆå†™ä¸‹æ¥æ‰èƒ½ç²‰ç¢å“¦~å¿«å†™å¿«å†™ï¼";
                container.classList.add('shake');
                setTimeout(() => container.classList.remove('shake'), 500);
                return;
            }

            // 1. éœ‡åŠ¨åé¦ˆ (å¢å¼ºç‰ˆèŠ‚å¥)
            if (navigator.vibrate) navigator.vibrate([80, 50, 80, 50, 100]);
            
            // 2. ç”Ÿæˆçˆ†ç‚¸ç²’å­
            createExplosion();

            // 3. éšè—è¾“å…¥æ¡†ï¼Œæ˜¾ç¤ºæ›´Qå¼¹çš„ç¦»åœºåŠ¨ç”»
            container.style.transform = 'scale(0.7) translateY(-150px) rotate(-5deg)';
            container.style.opacity = '0';
            container.style.pointerEvents = 'none'; // é˜²æ­¢åŠ¨ç”»è¿‡ç¨‹ä¸­è¯¯è§¦

            // 4. å‡†å¤‡å¹¶æ˜¾ç¤ºéšæœºæ²»æ„ˆæ–‡å­—
            showRandomHealingMessage();
        }

        function showRandomHealingMessage() {
             // éšæœºæŠ½å–ä¸€æ¡ä¿¡æ¯
             const randomIndex = Math.floor(Math.random() * healingMessages.length);
             const message = healingMessages[randomIndex];

             // å¡«å…¥å†…å®¹
             document.getElementById('healingMain').innerText = message.main;
             document.getElementById('healingSub').innerText = message.sub;

            // æ˜¾ç¤ºæ²»æ„ˆåŒºåŸŸ
            setTimeout(() => {
                const healing = document.getElementById('healingZone');
                healing.style.opacity = '1';
                healing.style.pointerEvents = 'auto';
            }, 600);
        }

        function createExplosion() {
            // ç²’å­é¢œè‰²è°ƒæ•´ä¸ºæš–è‰²è°ƒ+ä¸€ç‚¹ç‚¹é«˜å…‰
            const colors = ['#ff9a9e', '#fad0c4', '#fbc2eb', '#ffffff', '#ffd1ff'];
            const particleCount = 100; // æ›´å¤šçš„ç²’å­ï¼

            const containerRect = document.getElementById('inputZone').getBoundingClientRect();
            const x = containerRect.left + containerRect.width / 2;
            const y = containerRect.top + containerRect.height / 2;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 10 + 4;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                // éšæœºç»™ä¸€äº›ç²’å­åŠ ä¸Šé—ªçƒæ•ˆæœ
                if (Math.random() > 0.7) particle.style.animation = 'shine 0.5s infinite alternate';
                
                document.body.appendChild(particle);

                // çˆ†ç‚¸èŒƒå›´æ›´å¤§ï¼Œæ›´å…·å†²å‡»åŠ›
                const destinationX = x + (Math.random() - 0.5) * 1000;
                const destinationY = y + (Math.random() - 0.5) * 1000;
                const rotation = Math.random() * 1080;
                const duration = Math.random() * 1500 + 800;

                const animation = particle.animate([
                    { transform: `translate(0, 0) rotate(0deg) scale(1)`, opacity: 1 },
                    { transform: `translate(${destinationX - x}px, ${destinationY - y}px) rotate(${rotation}deg) scale(0)`, opacity: 0 }
                ], {
                    duration: duration,
                    easing: 'cubic-bezier(0.165, 0.84, 0.44, 1)', // easeOutQuart
                    fill: 'forwards'
                });

                animation.onfinish = () => particle.remove();
            }
        }

        function reset() {
            const container = document.getElementById('inputZone');
            const healing = document.getElementById('healingZone');
            const input = document.getElementById('moodInput');

            healing.style.opacity = '0';
            healing.style.pointerEvents = 'none';
            
            setTimeout(() => {
                // é‡æ–°åˆå§‹åŒ–ï¼Œè¿™æ ·æ¯æ¬¡é‡ç½®å¯èƒ½çœ‹åˆ°ä¸åŒçš„å ä½ç¬¦å’Œé—®å€™è¯­ï¼ˆå¦‚æœè·¨æ—¶æ®µï¼‰
                initPage();
                
                // å¼ºåˆ¶é‡ç»˜å¹¶æ‰§è¡Œå›å¼¹åŠ¨ç”»
                requestAnimationFrame(() => {
                    container.style.transform = 'scale(1) translateY(0) rotate(0deg)';
                    container.style.opacity = '1';
                    container.style.pointerEvents = 'auto';
                    input.value = '';
                });
            }, 400);
        }
    </script>
</body>
</html>
